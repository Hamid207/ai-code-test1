# ===========================================
# iOS Backend - Environment Configuration
# ===========================================
# IMPORTANT: This is YOUR LOCAL .env file
# Copy from .env.example and fill with YOUR credentials
# DO NOT COMMIT THIS FILE!

# ===========================================
# Server Configuration
# ===========================================
SERVER_PORT=8080
APP_PORT=8080
APP_ENV=development

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DB_USER=postgres
DB_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
DB_NAME=appdb
DB_PORT=5432
DB_SSL_MODE=disable

# Database connection pool settings
DB_MAX_CONNS=25
DB_MIN_CONNS=5
DATABASE_MAX_CONNECTIONS=25
DATABASE_MIN_CONNECTIONS=5

# For Docker Compose (PostgreSQL container)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
POSTGRES_DB=appdb

# Database URL (constructed automatically in docker-compose)
# For local development outside Docker, use:
# DATABASE_URL=postgresql://postgres:REPLACE_WITH_STRONG_PASSWORD@localhost:5432/appdb?sslmode=disable

# ===========================================
# Redis Configuration
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
REDIS_URL=redis:6379

# Redis connection pool settings
REDIS_MAX_CONNS=10
REDIS_MIN_IDLE_CONNS=2

# ===========================================
# Apple OAuth Configuration
# ===========================================
# Get these from: https://developer.apple.com/account/resources/identifiers/list
APPLE_TEAM_ID=YOUR_APPLE_TEAM_ID
APPLE_CLIENT_ID=YOUR_APPLE_CLIENT_ID
APPLE_KEY_ID=YOUR_APPLE_KEY_ID
APPLE_PRIVATE_KEY_PATH=./configs/AuthKey_XXXXX.p8

# ===========================================
# Google OAuth Configuration
# ===========================================
# Get this from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET

# ===========================================
# JWT Configuration
# ===========================================
# CRITICAL: Generate a strong random secret - REQUIRED! (minimum 32 characters)
# Generate using: openssl rand -base64 48
JWT_SECRET=CHANGE_THIS_GENERATE_WITH_OPENSSL_RAND_BASE64_48
JWT_EXPIRATION=24h

# ===========================================
# OpenAI Configuration
# ===========================================
# Get this from: https://platform.openai.com/api-keys
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ===========================================
# SECURITY CHECKLIST
# ===========================================
# ✅ 1. Generated strong passwords? (openssl rand -base64 32)
# ✅ 2. Updated all REPLACE_WITH_* values?
# ✅ 3. Placed Apple private key in ./configs/ ?
# ✅ 4. Verified .env is in .gitignore?
# ✅ 5. NEVER commit this file to Git!
# ✅ 6. Rotated any exposed API keys?
